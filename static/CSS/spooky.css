:root{
  --bg-1:#0b0f14; --bg-2:#11161d; --pumpkin:#ffb22c; --mint:#63ccca;
  --card:#2a3340e0; --card-border:#3b4657;
}

/* subtle animated background */
body{
  background:
    radial-gradient(1200px 1200px at 10% -10%, #1b2330 0%, transparent 50%),
    radial-gradient(800px 800px at 110% 20%, #1a202b 0%, transparent 50%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  animation: drift 18s ease-in-out infinite alternate;
  background-attachment: fixed;
}
@keyframes drift{
  0%,100%{background-position:0 0,0 0,0 0}
  50%{background-position:40px 30px,-60px 20px,0 100%}
}

/* overlay container */
.spooky-layer{pointer-events:none; position:fixed; inset:0; z-index:0;}
.spooky-layer .sprite{position:absolute}

/* ghost */
.ghost{left:6%; top:22%; width:90px; height:110px; animation:float 6s ease-in-out infinite;
  filter:drop-shadow(0 8px 16px rgba(0,0,0,.25))}
@keyframes float{0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)}}
.ghost .body{width:90px;height:90px;background:#f5f6fa;border-radius:45px 45px 20px 20px;position:relative}
.ghost .body:after{content:"";position:absolute;left:0;right:0;bottom:-18px;height:22px;
  background:
    radial-gradient(circle at 10px 10px,#f5f6fa 11px,transparent 12px),
    radial-gradient(circle at 35px 10px,#f5f6fa 11px,transparent 12px),
    radial-gradient(circle at 60px 10px,#f5f6fa 11px,transparent 12px),
    radial-gradient(circle at 85px 10px,#f5f6fa 11px,transparent 12px)}
.ghost .eye{position:absolute;top:30px;width:14px;height:18px;background:#1b2430;border-radius:8px}
.ghost .eye.left{left:28px}.ghost .eye.right{right:28px}
.ghost .mouth{position:absolute;top:55px;left:50%;width:18px;height:12px;transform:translateX(-50%);
  border:3px solid #1b2430;border-top:none;border-radius:0 0 20px 20px}

/* bats */
.bat{width:70px;height:28px;fill:#202938}
.bat1{top:14%;left:-8%;animation:batfly1 18s linear infinite}
.bat2{top:8%;left:110%;animation:batfly2 22s linear infinite;transform:scale(.9)}
.bat3{top:26%;left:-12%;animation:batfly3 20s linear infinite;transform:scale(1.15)}
@keyframes batfly1{to{transform:translateX(130vw)}}
@keyframes batfly2{to{transform:translateX(-130vw)}}
@keyframes batfly3{to{transform:translateX(130vw)}}
.bat svg{animation:flap .35s ease-in-out infinite alternate;transform-origin:center}
@keyframes flap{from{transform:scaleY(1)} to{transform:scaleY(.85)}}

/* spider */
.spider{right:2.5%;top:-120px;width:80px;height:140px;animation:descend 7s ease-in-out infinite}
.spider .thread{position:absolute;top:0;left:50%;width:2px;height:140px;
  background:repeating-linear-gradient(#e8e8e8,#e8e8e8 6px,transparent 6px,transparent 10px);
  transform:translateX(-50%)}
.spider .bug{position:absolute;top:52px;left:50%;transform:translateX(-50%);
  width:34px;height:34px;border-radius:50%;background:#1b2430;box-shadow:0 10px 16px rgba(0,0,0,.35)}
.spider .bug:before,.spider .bug:after{content:"";position:absolute;width:46px;height:18px;
  border:3px solid #1b2430;border-top:none;border-radius:0 0 18px 18px;top:-6px}
.spider .bug:before{left:-40px;transform:rotate(10deg)}
.spider .bug:after{right:-40px;transform:rotate(-10deg)}
@keyframes descend{0%,100%{transform:translateY(0)} 50%{transform:translateY(120px)}}

/* keep your content above the layer */
main.container,.container{position:relative;z-index:1}

/* optional: hide on very small screens */
@media (max-width:480px){ .spooky-layer{display:none} }

/* Calm mode: stop all spooky animations (no drift), dim layer */
body.calm .spooky-layer .sprite {
  animation-play-state: paused !important;
}

body.calm .spooky-layer {
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease;
}

/* Floating Calm/Spooky toggle */
.spooky-btn {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 1100;
  border-radius: 12px;
  padding: 0.4rem 1rem;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  font-weight: 600;
}

.spooky-btn:hover {
  transform: scale(1.08);
  background-color: #ff9800;
}