{% extends "base.html" %}
{% load static %}

{% block title %}Home | Trick or Treat{% endblock %}

{% block content %}
<section id="home-main" class="text-center py-5">
  <div class="container">
    <h1 class="display-5 fw-bold text-warning spooky-title mb-3">
      Trick or Treat Route Finder!
    </h1>

    <p class="lead text-light mb-4">
      Find the best Trick-or-Treat spots near you
    </p>

    <div class="d-flex justify-content-center gap-3 flex-wrap mb-5">
      <!-- For now: scroll to the map; replace hrefs with real URLs later -->
      <a href="#map-section" class="btn btn-outline-warning btn-lg px-4 py-2 fw-bold shadow-sm">
        ğŸ¬ Trick or Treater
      </a>

      <a href="#map-section" class="btn btn-warning btn-lg px-4 py-2 fw-bold shadow-sm">
        ğŸ  Update my Status
      </a>
    </div>
  </div>
</section>

<!-- Map Card -->
<section id="map-section" class="container map-card">
  <div class="map-card-header">
    <span class="map-title">ğŸƒ Trick-or-Treat Map</span>
  </div>
  <div class="map-inner">
    <div id="map"></div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- Your map logic (expects #map to exist and Leaflet loaded) -->
  <script src="{% static 'JS/map.js' %}"></script>

  <!-- Optional: nice smooth scroll for the anchor links -->
  <script>
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[href^="#"]');
      if (!a) return;
      const el = document.querySelector(a.getAttribute('href'));
      if (el) { e.preventDefault(); el.scrollIntoView({ behavior: 'smooth' }); }
    });
  </script>
{% endblock %}